<% content_for :title, "Stories" %>
<%= link_to "New story", new_story_path %>
<h3>Stories <%= "- Showing #{ pluralize(@stories.size, 'story') }" %></h3>
<form class="d-flex" role="search", action="/stories" accept-charset="UTF-8" method="get">
  <input class="form-control me-2" type="search" placeholder="Search Stories" aria-label="Search" name="search" id="search">
  <button class="btn btn-outline-primary" type="submit">Search</button>
</form>
<div id="stories">
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th scope="col">Story Link / Description</th>
        <th scope="col">Likes</th>
        <th scope="col">ID</th>
      </tr>
    </thead>
    <tbody>
      <% @stories.each do |story|%>
        <tr>
          <td><%= link_to story.name, story %></td>
          <td><%= story.likes_count %></td>
          <td><%= story.id %></td>
        </tr>
        <tr>
          <td colspan="3">
            <%= story.description %>
            <% unless story.tag_list.empty? %>
                Tags:
                <span class="tags">
                <%= render partial: "tags/tag", collection: story.tags %>
                </span>
                <% end %>
            </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
